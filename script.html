<div mass-autocomplete>
	<ul class="script hidden-print" ng-click="$event.stopPropagation()">
		<li ng-repeat="line in script.lines track by $index"
			ng-class="{commenting:line==commenting,editing:line==editing,commented:line.comment}"
			class="{{line.type}}">
			<a ng-click="comment(line)" class="comment-add">
				<i class="glyphicon glyphicon-comment"></i>
			</a>
			<div contenteditable ng-show="commenting==line" class="comment-box" ng-model="line.comment" rows="1"></div>
			<div contenteditable ng-model="line.text" autogrow rows="1" ng-keydown="keydown($event, line)" ng-keypress="keypress($event, line)" ng-focus="edit(line)" class="line-text"></div>
		</li>
	</ul>
</div>
<div class="script-print visible-print">
	<header>
		<p class="uppercase">{{script.title}}</p>
		<p ng-show="print.authors">by</p>
		<p>{{print.authors}}</p>
		<address class="text-left">{{print.leftAddress}}</address>
		<address class="text-right">{{print.rightAddress}}</address>
	</header>
	<p ng-repeat="line in script.lines" ng-class="{highlight:line.text.toUpperCase()==print.highlight.toUpperCase()}" class="{{line.type}}">{{line.text}}</p>
</div>