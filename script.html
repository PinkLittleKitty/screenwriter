<div class="script hidden-print" ng-click="$event.stopPropagation()">
    <div ng-repeat="line in script.lines track by $index" ng-class="{commenting:line==commenting,editing:line==editing,commented:line.comment}" class="{{line.type}} dropdown open line">
        <a ng-click="comment(line)" class="comment"><i class="glyphicon glyphicon-comment"></i></a>
        <textarea ng-show="commenting==line" class="comment" ng-model="line.comment" rows="1"></textarea>
        <textarea class="line" ng-model="line.text" autogrow rows="1" ng-keydown="keydown($event, line)" ng-keypress="keypress($event, line)" ng-focus="edit(line)"></textarea>
        <ul class="dropdown-menu" ng-if="line==editing" ng-show="suggestions(line).length">
            <li ng-repeat="suggestion in suggestions(line)"><a ng-click="line.text=suggestion;focus(line)">{{suggestion}}</a></li>
        </ul>
    </div>
</div>
<div class="script-print visible-print">
	<header>
		<p class="uppercase">{{script.title}}</p>
		<p ng-show="print.authors">by</p>
		<p>{{print.authors}}</p>
		<address class="text-left">{{print.leftAddress}}</address>
		<address class="text-right">{{print.rightAddress}}</address>
	</header>
	<p ng-repeat="line in script.lines" ng-class="{highlight:line.text.toUpperCase()==print.highlight.toUpperCase()}" class="{{line.type}}">{{line.text}}</p>
</div>